# v2.9.1 — Security Hardening

A hotfix release addressing critical security findings from a 3-judge red team council audit.

## Highlights

- **Closed a remote code execution vector** in the task validation hook — `npx` and `bash` removed from the command allowlist
- **Fixed a confused-deputy trust boundary** — hooks no longer source code from the repo being analyzed, only from the plugin install directory
- **Stopped teaching agents to bypass their own guardrails** — kill switch instructions removed from error messages

## What's New

### Security

- Removed `npx` (downloads+executes arbitrary npm packages) and `bash` (executes script files) from the task-validation-gate restricted execution allowlist
- Hook-helpers.sh now sourced from the plugin installation directory instead of the repo root, preventing malicious repositories from injecting code into hooks
- Kill switch self-advertising removed from push-gate and pre-mortem-gate stderr messages
- `git restore .` and `git restore --staged .` added to the dangerous git operations blocklist

### Added

- Knowledge cache core: `ao index`, `ao metrics cite-report`, `ao maturity --expire`
- `/update` skill for one-command skill reinstall
- `/evolve` reference docs for artifacts and examples

### Fixed

- Code injection via crafted filenames in prescan.sh
- License corrected to Apache-2.0 in goreleaser and brew formula
- Stale counts in GOALS.yaml and README

---

Full changelog: [CHANGELOG.md](CHANGELOG.md)
