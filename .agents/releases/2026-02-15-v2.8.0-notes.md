# AgentOps v2.8.0

## Highlights

- **Phased RPI — own your context window.** Currently `/rpi` runs all 6 phases in one Claude session. The context fills up, compaction kicks in, and you're hoping it doesn't lose anything important (it mostly doesn't — the real state lives in plans and beads issues — but you're still hoping). New `ao rpi phased` command runs each phase in its own fresh session. The Go CLI carries state between phases via filesystem artifacts, so each session starts clean with exactly the context it needs. Run it hands-free, step through it interactively with `--interactive`, or resume from any phase with `--from`. Works from the terminal or from an agent — it's a CLI command, not a skill.

- **Every ao command now has an automated caller.** 10 previously unwired commands wired into skills and hooks. `ao maturity --scan` fires on SessionStart. `ao session-outcome`, `ao feedback-loop`, `ao task-sync`, `ao batch-feedback` fire on SessionEnd. `/status` calls `ao badge` and `ao task-status`. `/flywheel` calls `ao maturity --scan`, `ao promote-anti-patterns`, `ao badge`. `/post-mortem` calls `ao feedback-loop`, `ao session-outcome`, `ao temper validate`. `/retro` calls `ao task-feedback`. Only `ao rpi phased`, `ao search`, and `ao demo` remain human-typed.

## What's New

- `ao rpi phased` — fresh context per RPI phase, 3 modes (hands-free, interactive, resume), per-phase token budgets, 33 unit tests
- 10 ao commands wired to SessionStart/SessionEnd hooks and `/status`, `/flywheel`, `/post-mortem`, `/retro` skills
- 3-layer compaction prevention: static budget checks, e2e no-compaction assertions, reusable `assert_context_under_60pct` helper
- `.agents/` directory: dated filenames prevent overwrites, retention-enforcing prune script, 500-file SessionStart warning
- README reframed around CLI-as-plumbing with automation map, new Phased RPI section
- CLAUDE.md gains 9 development pitfalls from repeated mistakes

## All Changes

See [CHANGELOG.md](CHANGELOG.md) for the complete list.
